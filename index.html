<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Daily Movie Updates</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #121212;
      color: #f5f5f5;
    }
    header {
      background-color: #e50914;
      padding: 1rem;
      text-align: center;
    }
    h1 {
      margin: 0;
      font-size: 2rem;
    }
    nav {
      background: #1f1f1f;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      padding: 1rem 0;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }
    nav a:hover {
      color: #e50914;
    }
    .container {
      padding: 2rem;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
    }
    .movie {
      background: #1f1f1f;
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      position: relative;
    }
    .movie img {
      width: 100%;
      max-width: 300px;
      border-radius: 5px;
      margin-bottom: 0.5rem;
    }
    .movie h2 {
      margin: 0.5rem 0;
      font-size: 1.2rem;
    }
    .details {
      margin-top: 0.5rem;
      text-align: left;
      display: none;
    }
    .download-btn {
      margin-top: 1rem;
      display: inline-block;
      background: #e50914;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 4px;
      font-size: 0.9rem;
      text-decoration: none;
    }
    .view-details-btn {
      margin-top: 0.5rem;
      background: transparent;
      border: 1px solid #e50914;
      color: #e50914;
      padding: 0.3rem 0.7rem;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      font-size: 0.9rem;
      transition: background 0.3s, color 0.3s;
    }
    .view-details-btn:hover {
      background: #e50914;
      color: white;
    }
    .pagination {
      text-align: center;
      margin-top: 2rem;
      grid-column: 1 / -1;
    }
    .pagination button {
      background: #e50914;
      color: white;
      padding: 0.5rem 1.5rem;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <h1>üé¨ Daily Movie Updates</h1>
  </header>

  <nav>
    <a onclick="filterMovies('All')">All</a>
    <a onclick="filterMovies('Hollywood')">Hollywood</a>
    <a onclick="filterMovies('Bollywood')">Bollywood</a>
    <a onclick="filterMovies('Bangla')">Bangla</a>
  </nav>

  <div class="container" id="movie-container"></div>

  <div class="pagination">
    <button id="next-btn">Next</button>
  </div>

  <script>
    const movies = [
      { title: "The Batman", year: "2022", desc: "Batman ventures into Gotham‚Äôs underworld.", category: "Hollywood", img: "https://i.imgur.com/Zi6v09X.jpg", download: "#" },
      { title: "Oppenheimer", year: "2023", desc: "The story of J. Robert Oppenheimer.", category: "Hollywood", img: "https://i.imgur.com/FkJYkAI.jpg", download: "#" },
      { title: "RRR", year: "2022", desc: "Two revolutionaries fight for their country.", category: "Bollywood", img: "https://i.imgur.com/4M7DG9c.jpg", download: "#" },
      { title: "KGF Chapter 2", year: "2022", desc: "Rocky fights oppression at KGF.", category: "Bollywood", img: "https://i.imgur.com/q9RAmnh.jpg", download: "#" },
      { title: "Mirzapur", year: "2018", desc: "A crime thriller in India.", category: "Bangla", img: "https://i.imgur.com/EkKtZzB.jpg", download: "#" },
      { title: "Pushpa", year: "2021", desc: "A laborer rises in a smuggling syndicate.", category: "Bollywood", img: "https://i.imgur.com/XlRfrOl.jpg", download: "#" },
      { title: "Inception", year: "2010", desc: "A thief who steals secrets via dreams.", category: "Hollywood", img: "https://i.imgur.com/Kh9O5AQ.jpg", download: "#" },
      { title: "Dune", year: "2021", desc: "Paul Atreides fights for planet Arrakis.", category: "Hollywood", img: "https://i.imgur.com/V5POslk.jpg", download: "#" },
      { title: "The Dark Knight", year: "2008", desc: "Batman fights Gotham's criminal underworld.", category: "Hollywood", img: "https://i.imgur.com/D2CdrBa.jpg", download: "#" },
      { title: "Jawan", year: "2023", desc: "A man exposes corruption in society.", category: "Bollywood", img: "https://i.imgur.com/CqV8FZP.jpg", download: "#" },
      { title: "Spider-Man: No Way Home", year: "2021", desc: "Peter Parker seeks help from Doctor Strange.", category: "Hollywood", img: "https://i.imgur.com/4bmrrA4.jpg", download: "#" }
    ];

    let currentIndex = 0;
    const limit = 6;
    let filteredMovies = [...movies];
    const container = document.getElementById("movie-container");
    const nextBtn = document.getElementById("next-btn");

    function displayMovies() {
      const nextBatch = filteredMovies.slice(currentIndex, currentIndex + limit);
      nextBatch.forEach((movie) => {
        const div = document.createElement("div");
        div.className = "movie";
        div.innerHTML = `
          <img src="${movie.img}" alt="${movie.title}" />
          <h2>${movie.title}</h2>
          <button class="view-details-btn">View Details</button>
          <div class="details">
            <p><strong>Release Date:</strong> ${movie.year}</p>
            <p>${movie.desc}</p>
            <a href="${movie.download}" class="download-btn" download>‚¨áÔ∏è Download</a>
          </div>
        `;

        // Toggle details inside the card
        const btn = div.querySelector(".view-details-btn");
        const details = div.querySelector(".details");
        btn.addEventListener("click", () => {
          // Change URL hash to movie title (spaces replaced with -)
          const hashTitle = encodeURIComponent(movie.title.replace(/\s+/g, '-'));
          window.location.hash = hashTitle;
          showMovieDetails(movie.title);
        });

        container.appendChild(div);
      });

      currentIndex += limit;
      if (currentIndex >= filteredMovies.length) {
        nextBtn.style.display = "none";
      } else {
        nextBtn.style.display = "inline-block";
      }
    }

    function filterMovies(category) {
      container.innerHTML = '';
      currentIndex = 0;

      filteredMovies = category === "All"
        ? [...movies]
        : movies.filter(movie => movie.category === category);

      displayMovies();
    }

    function showMovieDetails(title) {
      container.innerHTML = '';
      nextBtn.style.display = 'none'; // Hide pagination on detail view

      const movie = movies.find(m => m.title === title);
      if (!movie) {
        container.innerHTML = `<p>Movie not found</p>`;
        return;
      }

      const div = document.createElement("div");
      div.className = "movie";
      div.innerHTML = `
        <img src="${movie.img}" alt="${movie.title}" />
        <h2>${movie.title}</h2>
        <p><strong>Release Date:</strong> ${movie.year}</p>
        <p>${movie.desc}</p>
        <a href="${movie.download}" class="download-btn" download>‚¨áÔ∏è Download</a>
      `;

      // Back button to go back to movie list
      const backBtn = document.createElement("button");
      backBtn.textContent = "Back to Movie List";
      backBtn.className = "view-details-btn";
      backBtn.style.marginTop = "1rem";
      backBtn.addEventListener("click", () => {
        window.location.hash = '';
        filterMovies('All');
      });

      div.appendChild(backBtn);
      container.appendChild(div);
    }

    // On page load or hash change, decide what to show
    function handleHashChange() {
      const hash = decodeURIComponent(window.location.hash.slice(1)).replace(/-/g, ' ');
      if (hash) {
        showMovieDetails(hash);
      } else {
        filterMovies('All');
      }
    }

    window.addEventListener('load', handleHashChange);
    window.addEventListener('hashchange', handleHashChange);

    // Initial show all movies
    filterMovies('All');

    // Next button for pagination
    nextBtn.addEventListener("click", () => {
      displayMovies();
    });

  </script>
</body>
</html>
